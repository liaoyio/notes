import{_ as x}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.04993f90.js";import{f as d,r as y,h as D,i as F,z as p,t as B,u as c,C,F as g,G as i,B as m,O as E}from"./chunks/framework.1a1d6641.js";const $={key:0},_=23,P=d({__name:"demo1",setup(b){const o={name:"Chocolate",age:_,nationality:"China"},n=y(""),r=y(""),e=y(0),A=y(o),l=new Proxy(o,{get:(a,t)=>{n.value=`The value of ${t} is ${a[t]}`},set:(a,t,u)=>(n.value=`Changed ${t} from ${a[t]} to ${u}`,a[t]=u,!0)});function s(){n.value="",r.value="",e.value=0,o.age=_}return(a,t)=>(D(),F(g,null,[p("pre",null,B(A.value),1),p("button",{onClick:t[0]||(t[0]=u=>r.value=c(l).name)}," get name "),p("button",{onClick:t[1]||(t[1]=u=>e.value=c(l).age=18)}," set age "),p("button",{class:"gray",onClick:s}," reset "),n.value?(D(),F("p",$," log message: "+B(n.value),1)):C("",!0)],64))}}),k={key:0},h=22,T=d({__name:"demo2",setup(b){const o={name:"John Doe",age:h,nationality:"American"},n=y(""),r=y(o),e=new Proxy(o,{get:(l,s)=>{l[s]?n.value=`The value of ${s} is ${l[s]}`:n.value="Hmm.. this property doesn't seem to exist"},set:(l,s,a)=>(s==="age"&&typeof a!="number"?n.value="Sorry, you can only pass numeric values for age.":s==="name"&&a.length<2?n.value="You need to provide a valid name.":(n.value=`Changed ${s} from ${l[s]} to ${a}.`,l[s]=a),!0)});function A(){n.value="",o.age=h}return(l,s)=>(D(),F(g,null,[p("pre",null,B(r.value),1),p("button",{onClick:s[0]||(s[0]=a=>{c(e).nonExistentProperty})}," get nonExistentProperty "),p("button",{onClick:s[1]||(s[1]=a=>c(e).age=44)}," set age = 44 "),p("button",{onClick:s[2]||(s[2]=a=>c(e).name="")}," set name = '' "),p("button",{class:"gray",onClick:A}," reset "),n.value?(D(),F("p",k," log message: "+B(n.value),1)):C("",!0)],64))}}),j={key:0},f=42,v="John Doe",q=d({__name:"demo3",setup(b){const o={name:v,age:f,nationality:"American"},n=y(""),r=y(o),e=new Proxy(o,{get:(l,s)=>{n.value=`The value of ${s} is ${Reflect.get(l,s)}`},set:(l,s,a)=>(n.value=`Changed ${s} from ${l[s]} to ${a}`,Reflect.set(l,s,a))});function A(){n.value="",o.name=v,o.age=f}return(l,s)=>(D(),F(g,null,[p("pre",null,B(r.value),1),p("button",{onClick:s[0]||(s[0]=(...a)=>c(e).name&&c(e).name(...a))}," get name "),p("button",{onClick:s[1]||(s[1]=a=>c(e).age=43)}," set age = 43 "),p("button",{onClick:s[2]||(s[2]=a=>c(e).name="Chocolate")}," set name = 'Chocolate' "),p("button",{class:"gray",onClick:A}," reset "),n.value?(D(),F("p",j," log message: "+B(n.value),1)):C("",!0)],64))}}),S=E("",6),R=E("",4),V=E("",6),w=E("",7),O=JSON.parse('{"title":"代理模式","description":"","frontmatter":{"author":"Liaoyi","date":"2023-03-01T00:00:00.000Z"},"headers":[],"relativePath":"patterns/02_proxy_pattern/index.md","lastUpdated":1696236510000}'),N={name:"patterns/02_proxy_pattern/index.md"},H=Object.assign(N,{setup(b){return(o,n)=>{const r=x;return D(),F("div",null,[S,i(r,{pkg:"patterns/proxy-pattern",path:"demo1.vue"},{default:m(()=>[i(P)]),_:1}),R,i(r,{pkg:"patterns/proxy-pattern",path:"demo2.vue"},{default:m(()=>[i(T)]),_:1}),V,i(r,{pkg:"patterns/proxy-pattern",path:"demo3.vue"},{default:m(()=>[i(q)]),_:1}),w])}}});export{O as __pageData,H as default};
